# 🖥 快捷键功能测试指南

恭喜！Electron 应用中的快捷键功能已经成功实现。以下是快捷键功能的完整列表和测试指南：

## 🎛 快捷键功能总览

| 快捷键组合         | 功能描述                                                     | 测试方法 |
| ------------------ | ------------------------------------------------------------ | -------- |
| `Cmd + B`          | **显示/隐藏主窗口**                                          | 按下快捷键，窗口应该隐藏；再按一次应该重新显示 |
| `Cmd + [`          | **降低透明度**（更透明）                                     | 重复按下，窗口逐渐变透明（最低 0.1） |
| `Cmd + ]`          | **提高透明度**（更不透明）                                   | 重复按下，窗口逐渐变不透明（最高 1.0） |
| `Cmd + ↑`          | **窗口整体向上移动**                                         | 窗口向上移动 50px |
| `Cmd + ↓`          | **窗口整体向下移动**                                         | 窗口向下移动 50px |
| `Cmd + ←`          | **窗口整体向左移动**                                         | 窗口向左移动 50px |
| `Cmd + →`          | **窗口整体向右移动**                                         | 窗口向右移动 50px |
| `Cmd + Option + ↑` | **增加窗口高度**                                             | 窗口高度增加 50px |
| `Cmd + Option + ↓` | **减小窗口高度**                                             | 窗口高度减少 50px（最小 200px） |
| `Cmd + Option + ←` | **缩小窗口宽度**                                             | 窗口宽度减少 50px（最小 300px） |
| `Cmd + Option + →` | **放大窗口宽度**                                             | 窗口宽度增加 50px |
| `Cmd + Option + X` | **切换鼠标穿透模式**                                         | 开启后鼠标无法与窗口交互，窗口稍微透明 |
| `Cmd + Q`          | **退出应用程序**                                             | 应用程序正常退出 |

> **注意**：如果你使用的是 Windows/Linux，请将 `Cmd` 替换为 `Ctrl`，`Option` 替换为 `Alt`。

## 🚀 启动应用并测试

1. **启动开发服务器**：
   ```bash
   cd interview-electron
   npm run dev
   ```

2. **应用启动后**：
   - 你会看到应用界面右上角有一个 "快捷键帮助" 按钮
   - 点击该按钮可以查看完整的快捷键说明

3. **测试快捷键**：
   - 所有快捷键都是**全局快捷键**，即使应用窗口未聚焦也能使用
   - 建议按照上表逐一测试每个快捷键功能

## 🔧 技术实现细节

### 主要功能实现

1. **全局快捷键注册**：在主进程 (`src/main/index.ts`) 中使用 `globalShortcut.register()`
2. **窗口控制**：使用 Electron 的 BrowserWindow API 控制窗口位置、大小、透明度
3. **鼠标穿透**：使用 `setIgnoreMouseEvents()` 实现鼠标穿透功能
4. **边界检测**：确保窗口移动和调整大小时不会超出屏幕边界

### 组件增强

1. **快捷键帮助组件**：新增 `ShortcutHelp.tsx` 组件，提供用户友好的快捷键说明
2. **平台检测**：自动检测操作系统平台，显示对应的快捷键名称
3. **UI 集成**：在 Dashboard 和 CollaborativeEditor 页面都集成了快捷键帮助

### 与 Web 端兼容性

- ✅ 快捷键功能**仅在 Electron 环境中生效**
- ✅ Web 端不受任何影响，所有功能正常
- ✅ 共享代码库，仅 Electron 特定功能被隔离

## 🎯 功能特色

1. **智能边界检测**：窗口移动和调整大小都有边界限制
2. **渐进式透明度**：支持 0.1-1.0 的透明度范围，每次调整 0.1
3. **鼠标穿透模式**：开启时窗口变透明作为视觉提示
4. **全局快捷键**：即使应用在后台也能控制窗口
5. **跨平台支持**：自动适配 macOS 和 Windows/Linux 的快捷键显示

## 🐛 故障排除

如果快捷键不工作，请检查：

1. **权限问题**：确保应用有必要的系统权限
2. **快捷键冲突**：检查是否与其他应用的快捷键冲突
3. **开发工具**：查看控制台是否有错误日志
4. **平台兼容性**：确认在正确的操作系统上测试

## 📝 使用说明

- 快捷键在应用启动后自动注册
- 应用退出时会自动清理所有快捷键注册
- 控制台会输出快捷键操作的状态信息
- 鼠标穿透模式下，使用 `Cmd + Option + X` 可以重新启用鼠标交互

享受你的新快捷键功能吧！🎉
